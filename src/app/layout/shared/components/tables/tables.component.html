<div class="container-fluid">
    <div class="row">
        <div class="input-group mb-3 mt-3 col-4">
            <div class="input-group-prepend">
                <span class="input-group-text transparentBg" id="basic-addon1">
                    <fa-icon [icon]="faSearch"></fa-icon>
                </span>
            </div>
            <input (keyup)="search($event)" type="text" class="form-control" placeholder="Filtrar por nome"
                aria-label="Username" aria-describedby="basic-addon1">
        </div>
        <select [(ngModel)]="selectedValue" class="custom-select mb-3 mt-3 col-3 offset-md-5">
            <option value="6">6 visualizações por página</option>
            <option value="12">12 visualizações por página</option>
            <option value="24">24 visualizações por página</option>
            <option value="36">36 visualizações por página</option>
        </select>
    </div>

    <ngx-datatable class="bootstrap" [rows]="rows" [loadingIndicator]="loadingIndicator" [columns]="keys"
        [columnMode]="'force'" [headerHeight]="40" [summaryRow]="true" [summaryPosition]="'bottom'" [footerHeight]="40"
        [limit]="selectedValue" [rowHeight]="'auto'" [reorderable]="reorderable">

        <ngx-datatable-column>
            <ng-template let-column="column" ngx-datatable-header-template>
                Nome
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.name}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column>
            <ng-template let-column="column" ngx-datatable-header-template>
                Email
            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.email}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column>
            <ng-template let-column="column" ngx-datatable-header-template>

            </ng-template>
            <ng-template let-row="row" ngx-datatable-cell-template>
                <button class="btn mr-3" style="color: red; float: right;" (click)="showConfirmModal(template, row)">
                    <fa-icon [icon]="faTrashAlt"></fa-icon>
                </button>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>

</div>
<ng-template #template>
    <div class="modal-header cardHead">
        <h4 class="modal-title pull-left">Apagar conta</h4>
        <button type="button" style="color: white" class="close pull-right" aria-label="Close" (click)="onCloseModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <p *ngIf="state == 'confirm'">Conta apagada com sucesso!</p>
        <p *ngIf="state == 'deleteAccount'">Tem a certeza que quer eliminar a conta: {{emailToDelete}}?</p>
        <div class="modal-footer p-0 pt-3">
            <div *ngIf="state == 'deleteAccount'">
                <button type="button" class="btn btn-blue" (click)="cancel()">Cancelar</button>
                <button type="button" class="btn btn-mycolor ml-1" (click)="delete()">Apagar</button>
            </div>
        </div>
    </div>
</ng-template>